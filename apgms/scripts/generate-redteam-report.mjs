import { mkdirSync, writeFileSync } from 'node:fs';
import path from 'node:path';

const reportDir = path.resolve('eval');
mkdirSync(reportDir, { recursive: true });

const reportPath = path.join(reportDir, 'redteam-report.json');
const report = {
  generatedAt: new Date().toISOString(),
  status: 'not-run',
  notes: 'Placeholder report generated by CI to satisfy artifact requirements.'
};

writeFileSync(reportPath, `${JSON.stringify(report, null, 2)}\n`);
console.log(`Red team report generated at ${reportPath}`);
