# Accessibility Guidelines

The APGMS platform currently ships with a skeletal web application (`apgms/webapp`) that only contains a console log placeholder while the product backlog for the customer experience is being defined.
This document establishes the accessibility guardrails that must be followed as the user interface is implemented and the platform expands. It replaces the placeholder in `apgms/docs/accessibility/report.md` with actionable policy and testing expectations.

## WCAG Conformance Targets and Testing Cadence

- **Target standard**: WCAG 2.1 AA for all interactive user journeys exposed through the webapp and any public web properties (marketing site, status site).
  Backend-only surfaces (e.g. machine-to-machine APIs in `apgms/services`) must also return error payloads that meet WCAG 3.2.4 (consistent identification) to support assistive integrations.
- **Release gating**: Every pull request that touches `apgms/webapp` or HTML content must include automated accessibility checks (axe-core or equivalent) and manual keyboard navigation verification before merge.
- **Regression schedule**: A full regression (screen reader smoke test, colour contrast validation, high zoom review) is required prior to each tagged release and at least once per quarter if no releases are cut.
- **Audit evidence**: Store raw outputs and remediation status in `apgms/docs/accessibility/report.md` so that compliance evidence is versioned alongside code.

## Inclusive Content and Design Checklists

### Inclusive Language
- Prefer plain language that matches the tone used across the platform (financial services terminology only when necessary, provide tooltips for jargon).
- Ensure all transactional emails or notifications generated by back-end services include alternative text for imagery and links with descriptive copy.

### Visual and Interaction Design
- Provide a minimum contrast ratio of 4.5:1 for text and 3:1 for large UI elements; build a reusable token set so colours can be audited centrally.
- Maintain focus visibility using CSS focus styles that are consistent across components.
  Prioritise native elements before custom widgets whenever possible.
- Guarantee all primary user flows (registration, bank line uploads, reconciliation workflows) are operable via keyboard alone.

### Content Structure
- Author semantic HTML with hierarchical headings, ARIA landmarks, and labelled form controls.
  The API gateway currently exposes `/bank-lines` CRUD endpoints via Fastify (`apgms/services/api-gateway/src/index.ts`); matching UI forms must carry programmatic labels for each field exposed by that data model.
- Provide inline validation messaging that announces errors and recovery steps without relying solely on colour.

## Assistive Technology Compatibility Findings

Current state:
- The React/Vite entry point (`apgms/webapp/src/main.tsx`) only emits a console log, so there is no interactive UI to exercise with assistive technology yet.
- The system exposes JSON APIs through Fastify and FastAPI services; these respond with structured JSON objects and HTTP status codes that are compatible with assistive client tooling, provided error payloads remain descriptive.

Planned verification (execute once UI views are added):
- **Screen readers**: NVDA + Firefox (primary), VoiceOver + Safari (secondary) on each major user journey.
- **Magnification**: Validate layouts at 400% zoom and with browser text reflow enabled.
- **Input alternatives**: Test keyboard navigation, switch access, and voice control (Windows Voice Access / macOS Voice Control) for workflows including bank line creation and reconciliation approvals.

Document any incompatibilities or residual defects under "Findings" in `apgms/docs/accessibility/report.md`, alongside mitigation owners and target remediation dates.
